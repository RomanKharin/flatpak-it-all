{
    "id": "test.flatpak.upythonhelper",
    "runtime": "org.freedesktop.Platform",
    "runtime-version": "1.4",
    "sdk": "org.freedesktop.Sdk",
    "branch": "master",
    "command": "upythonhelper.py",
    "build-runtime": false,
    "build-options" : {
    },
    "finish-args" : [
        "--share=ipc",
        "--share=network",
        "--socket=x11",
        "--socket=wayland",
        "--socket=pulseaudio",
        "--filesystem=home",
        "--filesystem=/dev/ttyS0",
        "--filesystem=/dev/ttyUSB0",
        "--filesystem=/dev/ttyACM0"
    ],
    "modules": [
        {
            "name": "tcl8.6",
            "sources": [
                {
                    "type": "archive",
                    "url": "http://prdownloads.sourceforge.net/tcl/tcl8.6.6-src.tar.gz",
                    "sha256": "a265409781e4b3edcc4ef822533071b34c3dc6790b893963809b9fe221befe07"
                }
            ],
            "subdir": "unix",
            "post-install": [
                "chmod +w /app/lib/libtcl8.6.so"
            ]
        },
        {
            "name": "tk8.6",
            "sources": [
                {
                    "type": "archive",
                    "url": "http://prdownloads.sourceforge.net/tcl/tk8.6.6-src.tar.gz",
                    "sha256": "d62c371a71b4744ed830e3c21d27968c31dba74dd2c45f36b9b071e6d88eb19d"
                }
            ],
            "subdir": "unix",
            "post-install": [
                "chmod +w /app/lib/libtk8.6.so"
            ]
        },
        {
            "name": "python3.6.0",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://www.python.org/ftp/python/3.6.0/Python-3.6.0.tar.xz",
                    "sha256": "b0c5f904f685e32d9232f7bdcbece9819a892929063b6e385414ad2dd6a23622"
                }
            ],
            "config-opts": ["--enable-shared"],
            "post-install": [
                "chmod +w /app/lib/libpython3.6m.so.1.0",
                "chmod +w /app/lib/libpython3.so"
            ]
        },
        {
            "name": "pyserial3.2.1",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/pyserial/pyserial.git",
                    "branch": "v3.2.1"
                },
                {
                    "type": "file",
                    "path": "configure_bulk",
                    "dest-filename": "configure"
                }
            ]
        },
        {
            "name": "serial_device2_1.8.3",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://files.pythonhosted.org/packages/32/cb/f563242cd582224210fb4005d0ebde5bc9edd2fbb24f47e02d947d20f08b/serial_device2-1.8.3.tar.gz",
                    "sha256": "716c2fd41ae6d79c7fa708a10bf098ef81f57b1622cd2f4b13b687efa5478b7f"
                },
                {
                    "type": "file",
                    "path": "configure_bulk",
                    "dest-filename": "configure"
                }
            ]        
        },
        {
            "name": "uPythonHelper",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/casten/uPythonHelper.git",
                    "branch": "master"
                },
                {
                    "type": "file",
                    "path": "configure",
                    "dest-filename": "configure"
                }
            ]
        }
    ],
    "cleanup-commands": [
        "rm -r /app/include/",
        "rm -r /app/man/",
        "rm -r /app/share/"
    ],
    "cleanup": [
    "/bin/2to3",
    "/bin/2to3-3.6",
    "/bin/easy_install-3.6",
    "/bin/idle3",
    "/bin/idle3.6",
    "/bin/miniterm.py",
    "/bin/pip3",
    "/bin/pip3.6",
    "/bin/pydoc3",
    "/bin/pydoc3.6",
    "/bin/python3-config",
    "/bin/python3.6-config",
    "/bin/python3.6m",
    "/bin/python3.6m-config",
    "/bin/pyvenv",
    "/bin/pyvenv-3.6",
    "/bin/sqlite3_analyzer",
    "/bin/tclsh8.6",
    "/bin/wish8.6",
    "/lib/debug/",
    "/lib/itcl4.0.5/",
    "/lib/libpython3.6m.so",
    "/lib/libpython3.so",
    "/lib/libtclstub8.6.a",
    "/lib/libtkstub8.6.a",
    "/lib/pkgconfig/",
    "/lib/sqlite3.13.0/",
    "/lib/tcl8.6/clock.tcl",
    "/lib/tcl8.6/history.tcl",
    "/lib/tcl8.6/http1.0/",
    "/lib/tcl8.6/msgs/",
    "/lib/tcl8.6/opt0.4/",
    "/lib/tcl8.6/package.tcl",
    "/lib/tcl8.6/parray.tcl",
    "/lib/tcl8.6/safe.tcl",
    "/lib/tcl8.6/tclAppInit.c",
    "/lib/tcl8.6/word.tcl",
    "/lib/tcl8/8.4/",
    "/lib/tcl8/8.5/tcltest-2.4.0.tm",
    "/lib/tcl8/8.6/",
    "/lib/tclConfig.sh",
    "/lib/tclooConfig.sh",
    "/lib/tdbc1.0.4/",
    "/lib/tdbcmysql1.0.4/",
    "/lib/tdbcodbc1.0.4/",
    "/lib/tdbcpostgres1.0.4/",
    "/lib/thread2.8.0/",
    "/lib/tk8.6/bgerror.tcl",
    "/lib/tk8.6/choosedir.tcl",
    "/lib/tk8.6/clrpick.tcl",
    "/lib/tk8.6/console.tcl",
    "/lib/tk8.6/demos/",
    "/lib/tk8.6/dialog.tcl",
    "/lib/tk8.6/focus.tcl",
    "/lib/tk8.6/fontchooser.tcl",
    "/lib/tk8.6/iconlist.tcl",
    "/lib/tk8.6/images/",
    "/lib/tk8.6/megawidget.tcl",
    "/lib/tk8.6/mkpsenc.tcl",
    "/lib/tk8.6/obsolete.tcl",
    "/lib/tk8.6/optMenu.tcl",
    "/lib/tk8.6/palette.tcl",
    "/lib/tk8.6/pkgIndex.tcl",
    "/lib/tk8.6/safetk.tcl",
    "/lib/tk8.6/tearoff.tcl",
    "/lib/tk8.6/tkAppInit.c",
    "/lib/tk8.6/tkfbox.tcl",
    "/lib/tk8.6/ttk/aquaTheme.tcl",
    "/lib/tk8.6/ttk/vistaTheme.tcl",
    "/lib/tk8.6/ttk/winTheme.tcl",
    "/lib/tk8.6/ttk/xpTheme.tcl",
    "/lib/tk8.6/unsupported.tcl",
    "/lib/tk8.6/xmfbox.tcl",
    "/lib/tkConfig.sh",
    "/man/",
    "/share/"
]
}
